 <!DOCTYPE html>
<html>
    <head>
        
        <meta charset="UTF-8">
        <title>Page Title</title>
        <link href="https://unpkg.com/material-components-web@v4.0.0/dist/material-components-web.min.css" rel="stylesheet">
        <script src="https://unpkg.com/material-components-web@v4.0.0/dist/material-components-web.min.js"></script>
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        
        <style>
            :root{--mdc-theme-primary: coral}
            
            .top-bottons{
                display: inline;
            }
            
            li.template{
                display: none;
            }
        </style>
        
    </head>
    <body>
        

        <div class="top-bottons">
            <button class="mdc-button foo-button mdc-button--raised" id="GRAF">
              <div class="mdc-button__ripple"></div>
              <span class="mdc-button__label">Graffiti Removal Request</span>
            </button>
            
            <button class="mdc-button foo-button mdc-button--raised" id="SFD">
              <div class="mdc-button__ripple"></div>
              <span class="mdc-button__label">Street Light Out Complaint</span>
            </button>
            
            <button class="mdc-button foo-button mdc-button--raised" id="CSF">
              <div class="mdc-button__ripple"></div>
              <span class="mdc-button__label">Consumer Fraud Complaint</span>
            </button>
        </div>
        
        <div id="data">
            <ul class="mdc-list mdc-list--two-line">
              <li class="mdc-list-item template" id="temp" tabindex="0">
                <span class="mdc-list-item__text">
                  <span class="mdc-list-item__primary-text">Two-line item</span>
                  <span class="mdc-list-item__secondary-text">Secondary text</span>
                </span>
              </li>
            </ul>
        </div>
            
        
        
        <script>
            mdc.ripple.MDCRipple.attachTo(document.querySelector('.foo-button'));
            
            let apiEndpoint = "https://data.cityofchicago.org/resource/v6vf-nfxy.json?";
            //let dataDiv = document.querySelector('#data');
            
            document.querySelectorAll('.mdc-button').forEach(item => {
              item.addEventListener('click', event => {
                
                let val = item.id;
                apiEndpoint += "SR_SHORT_CODE=" + val + "&$LIMIT=5";
                
                fetch(apiEndpoint)
                .then(response => {return response.json()})
                .then(json => {
                     console.log(json);
                            let listItem = document.querySelector(".template");
                            let ul = document.querySelector(".mdc-list");
                            
                            for(let val of ul.childNodes){
                                //console.log(val);
                                if(val.id = "temp"){
                                    continue;
                                }else{
                                    val.remove();
                                }
                            }
                    
                            for(let val of json){
                                let clone = listItem.cloneNode(true);

                                clone.classList.remove("template");
                                clone.id = "clone";
                                //console.log(clone.id);
                                clone.querySelector("span.mdc-list-item__primary-text").textContent = val["owner_department"];
                                clone.querySelector("span.mdc-list-item__secondary-text").textContent = "status: " + val["status"];
                                //clone.querySelector("p.card-text").textContent = val["annual_salary"];

                                ul.appendChild(clone);
                            }
                            //listItem.remove();
                            //dataDiv.style.display="block";
                            apiEndpoint = "https://data.cityofchicago.org/resource/v6vf-nfxy.json?";
                    
                })
                .catch(err => alert(err));
                  
                //drawer.open = false;

                //document.querySelector("#"+val).style.display="block";


              })
            })
        </script>
    </body>
</html> 